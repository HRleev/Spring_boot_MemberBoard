<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:c="http://www.w3.org/1999/XSL/Transform">
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

<head>
    <meta charset="UTF-8">
    <title>detail</title>
</head>
<body>
<table>
    <tr>
        <th>id</th>
        <th>boardTitle</th>
        <th>boardWriter</th>
        <th>boardContents</th>
        <th>boardHits</th>
        <th>createdTime</th>
        <th>boardFile</th>
    </tr>
    <tr>
        <td th:text="${board.id}" id="id"></td>
        <td th:text="${board.boardTitle}"></td>
        <!--        <td><a th:href="@{|/board/${board.id}|}" th:text="${board.boardTitle}"></a></td>-->
        <td th:text="${board.boardWriter}"></td>
        <td th:text="${board.boardContents}"></td>
        <td th:text="${board.boardHits}"></td>
        <td th:text="*{#temporals.format(board.boardCreatedDate,'yyy-MM-dd HH:mm:ss')}"></td>
        <td><img th:src="@{|/upload/${board.boardFileName}|}" width="100" height="100" alt=""></td>
    </tr>
</table>
<div th:if="${session.memberEmail eq board.boardWriter}">
    <button type="button" onclick="req(1)">수정</button>
    <button type="button" onclick="req(2)">삭제</button>
</div>
<div th:if="${session.memberEmail.toString().equals('admin')}">
    <button type="button" onclick="req(2)">삭제</button>
</div>
<!--    <div th:if="${session.memberEmail.toString().equals('admin')}">-->
<!--        <button type="button" onclick="req(2)">삭제</button>-->
<!--    </div>-->
<div id="pwCk"></div>

</body>
<script th:inline="javascript">
    function req(num) {
        console.log("함수호출");
        const id = [[${board.id}]];
        console.log(id);
        if (num == 1) {
            location.href = "/board/update/" + id;
        } else {
            location.href = "/board/delete/" + id;
        }
    }
</script>
</html>